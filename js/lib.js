var backgroundConnector=function(){this.cache=null;this.name=null;this.onConnect=null;this.onDisConnect=null;this.send=function(n){if(this.cache!=null){var e=this.cache;if(e.name==this.name){e.postMessage(n)}}};this.init=function(n){var e=this;chrome.extension.onConnect.addListener(function(t){e.cache=t;if(t.name==e.name){t.onDisconnect.addListener(function(){e.cache=null;if(typeof e.onDisConnect=="function")e.onDisConnect(t)});t.onMessage.addListener(function(e){n(e)});if(typeof e.onConnect=="function")e.onConnect(t);t.postMessage({act:"connected"})}})}};var mainConnector=function(){this.cache=null;this.name=null;this.init=function(){var n=chrome.extension.connect({name:this.name});this.cache=n};this.send=function(n){if(this.cache!=null){var e=this.cache;e.postMessage(n)}};this.onMessage=function(n){if(this.cache!=null){var e=this.cache;if(e.name==this.name){e.onMessage.addListener(function(e){n(e)})}}}};var Settings={};Settings.configCache={};Settings.setValue=function n(e,t){var i={};if(localStorage.config)i=JSON.parse(localStorage.config);i[e]=t;localStorage.config=JSON.stringify(i);return t};Settings.getValue=function e(n,t){if(!localStorage.config)return t;var i=JSON.parse(localStorage.config);if(typeof i[n]=="undefined")return t;return i[n]};Settings.setCacheValue=function t(n,e){Settings.configCache[n]=e;return e};Settings.getCacheValue=function i(n,e){if(typeof Settings.configCache[n]!="undefined")return Settings.configCache[n];else return e};Settings.keyExists=function o(n){if(!localStorage.config)return false;var e=JSON.parse(localStorage.config);return e[n]!=undefined};Settings.setObject=function c(n,e){localStorage[n]=JSON.stringify(e);return e};Settings.getObject=function a(n){if(localStorage[n]==undefined)return undefined;return JSON.parse(localStorage[n])};Settings.refreshCache=function r(){Settings.configCache={}};var tool={};tool.formatTime=function(n){var e=Number(n);var t=0;var i=0;if(e>60){t=Number(e/60);e=Number(e%60);if(t>60){i=Number(t/60);t=Number(e%60)}}var o=String(parseInt(e));if(o.length==1)o="0"+o;var c=o;var a=String(parseInt(t));if(a.length==1)a="0"+a;c=a+":"+c;if(i>0){c=""+parseInt(i)+":"+c}return c};